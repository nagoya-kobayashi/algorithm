# 探索ゲーム（探索アルゴリズム体験教材）— 目的と全体像（ラウンド1〜4）

## 目的（授業課題と狙い）
本教材は「探索アルゴリズム」を題材にしたゲーム形式の教材であり、次の3点を体験的に理解させることを目的とする。

1. **プログラミングで処理するにはアルゴリズムが必要**であること  
2. **アルゴリズムによって計算量（処理時間）が大きく変わり**、現実時間で計算できないこともあること  
3. **アルゴリズムによっては事前準備（ソート／インデクス）**が必要であること  

> 本ドキュメント群はラウンド1〜4を対象とした仕様・実装に合わせて更新している。

---

## 想定利用シーン（授業の流れ）
### 想定：50分×1コマ（例）
1. 導入（5分）  
   - 「同じ“探す”でも手順で速さが変わる」ことを例で提示
2. 体験（15〜20分）  
   - 生徒が各自で探索ゲームを実施（タイトル画面から開始し、未クリアのラウンドから進行）
3. 振り返り（10分）  
   - 探索回数／クリアタイムの違いを共有
4. 教員解説（10分）  
   - ラウンド2以降（ソート／インデクス／二分探索）の意義を説明
5. まとめ（5分）  
   - 「アルゴリズム」「計算量」「事前準備」の言葉に接続

---

## システム全体像（Web＋Perl CGIログ収集の位置づけ）
### 構成
- クライアント：HTML + CSS + JavaScript（ブラウザ実行）
- サーバ：Perl CGI（結果ログ受信・ランキング返却）
- 保存：サーバ内のログファイル（追記）

### データの流れ（最小構成）
1. 生徒がブラウザで探索ゲームを実行
2. クライアントは student.csv を読み込み、#id= で指定されたユーザIDから年・組・番を取得し、ラウンド用名簿を生成
3. クリア時に「ユーザID・ラウンドNo・探索回数・クリアタイム」をサーバへ送信
4. サーバはユーザIDを名簿対応表で「年・組・番・氏名」に変換し、ログに追記
5. user_id確定後、同一クラスのランキング（全員）を返却（クリア不要）

---

## 収集ログの活用（授業改善／評価／研究）
### 授業改善
- 探索回数の分布から「迷いの多い生徒」の傾向を把握
- ラウンドごとの中央値比較で「事前準備の効果」を可視化

### 評価（形成的評価）
- 競争ではなく「自己ベスト更新」「方略の言語化」を促す材料として使用

### 研究（教育実践の材料）
- ラウンド間での改善幅（回数／時間）を定量化し、教材効果の根拠にする

---

## 成果指標（成功条件）
- 授業内で多数がラウンド1をクリアできる（操作の詰まりがない）
- 探索回数が生徒間で有意に分散し、「手順の違い」が可視化される
- ラウンド2以降の説明時に「ソート／インデクスがあると速い理由」を言語化できる生徒が出る
- サーバログが欠損なく残り、ランキングが機能する

---

## 未確定事項リスト（初版）
- ユーザIDの形式（学籍番号／出席番号／Googleアカウント等）
- サーバ側で使用する名簿対応表を student.csv と共通化するか（配置先・共有方法）
- ログ保存期間（学期末まで／年度末まで）とバックアップ頻度
- ランキング表示名の匿名化レベル（現行は「番＋氏名（フルネーム）」、本番運用時に要検討）
- 学校ネットワーク制約（i-Filter等）によるPerl CGI到達性・通信可否
